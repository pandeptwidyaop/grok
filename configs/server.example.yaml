server:
  grpc_port: 4443
  http_port: 80
  https_port: 443
  api_port: 4040
  domain: "grok.io"

database:
  # Driver: "sqlite" or "postgres"
  driver: "sqlite"

  # SQLite configuration (when driver is "sqlite")
  database: "grok.db"  # File path, use ":memory:" for in-memory database

  # PostgreSQL configuration (when driver is "postgres")
  # driver: "postgres"
  # host: "localhost"
  # port: 5432
  # database: "grok"
  # username: "grok"
  # password: "your-password-here"
  # ssl_mode: "disable"

# TLS Configuration
# TLS is used for:
# 1. HTTPS tunnel connections (public URLs)
# 2. gRPC connections between client and server (tunnel control)
#
# Three options:
# 1. Auto Certificate (Let's Encrypt) - Production with public domain
# 2. Manual Certificate - Production with custom CA or self-signed for dev
# 3. Disabled - Development only (insecure)
tls:
  # Option 1: Auto Certificate with Let's Encrypt (RECOMMENDED for production)
  auto_cert: false
  cert_dir: "/var/lib/grok/certs"
  email: "admin@grok.io"

  # Option 2: Manual Certificate
  # For production: Use certificates from trusted CA
  # For development: Generate self-signed certificate with: grok-server gencert
  cert_file: "certs/server.crt"
  key_file: "certs/server.key"

  # Note: If both auto_cert and cert_file/key_file are specified,
  # manual certificate takes precedence.

  # Generate self-signed certificate for development:
  #   grok-server gencert
  #   grok-server gencert --host yourdomain.com
  #   grok-server gencert --cert /path/to/server.crt --key /path/to/server.key

auth:
  jwt_secret: "change-this-to-a-secure-random-string"

tunnels:
  max_per_user: 5
  idle_timeout: "10m"
  heartbeat_interval: "30s"

logging:
  level: "info"      # debug, info, warn, error
  format: "json"     # json, text
  output: "stdout"   # stdout, file
  # file: "/var/log/grok/server.log"
