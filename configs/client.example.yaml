# Server Connection Configuration
server:
  addr: "localhost:4443"

  # TLS Configuration (default: false)
  # Enable TLS for secure gRPC connection to server
  tls: false

  # TLS Certificate File (optional)
  # Path to CA certificate to verify server's certificate
  # - For self-signed certs: path to server.crt from grok-server gencert
  # - For Let's Encrypt: leave empty (uses system CA pool)
  # tls_cert_file: "certs/server.crt"

  # TLS Insecure Mode (default: false)
  # Skip certificate verification - DEVELOPMENT ONLY, NOT for production!
  # Use this only for testing with self-signed certificates
  # tls_insecure: false

  # TLS Server Name (optional)
  # Override server name for certificate verification
  # Useful when connecting via IP but cert is for domain
  # tls_server_name: "grok.io"

  # TLS Examples:
  #
  # 1. Development with self-signed certificate (verify):
  #    tls: true
  #    tls_cert_file: "certs/server.crt"
  #
  # 2. Development with self-signed certificate (skip verify):
  #    tls: true
  #    tls_insecure: true
  #
  # 3. Production with Let's Encrypt:
  #    addr: "grok.io:4443"
  #    tls: true
  #    (no tls_cert_file needed - uses system CA)
  #
  # 4. Production with custom CA:
  #    tls: true
  #    tls_cert_file: "/etc/ssl/certs/ca-bundle.crt"

auth:
  token: ""  # Set using: grok config set-token <your-token>

logging:
  level: "info"
  format: "text"

reconnect:
  enabled: true
  initial_delay: 1      # seconds
  max_delay: 30         # seconds
  backoff_factor: 2     # multiplier
  max_attempts: 0       # 0 = infinite retries

dashboard:
  enabled: true
  port: 4041
  max_requests: 1000
  max_body_size: 102400 # 100KB

# Performance optimization settings
performance:
  # Connection pool configuration
  connection_pool:
    enabled: true           # Enable connection pooling (default: true)
    min_size: 10            # Minimum pool size (default: 10)
    max_size: 100           # Maximum pool size (default: 100)
    idle_timeout: 90s       # Idle connection timeout (default: 90s)
    health_check_interval: 30s  # Health check interval (default: 30s)
  
  # Buffer pool configuration
  buffer_pool:
    enabled: true           # Enable adaptive buffers (default: true)
    small_size: 1024        # Small buffer size in bytes (default: 1KB)
    medium_size: 65536      # Medium buffer size in bytes (default: 64KB)
    large_size: 4194304     # Large buffer size in bytes (default: 4MB)
